!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Infinite=e()}}(function(){return function e(t,n,i){function o(l,s){if(!n[l]){if(!t[l]){var a="function"==typeof require&&require;if(!s&&a)return a(l,!0);if(r)return r(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[l]={exports:{}};t[l][0].call(u.exports,function(e){var n=t[l][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[l].exports}for(var r="function"==typeof require&&require,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(e,t,n){(function(n){"use strict";function i(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var o=n.React||e("react");e("./utils/establish-polyfills");var r=e("./utils/scaleEnum"),l=e("./utils/infiniteHelpers"),s=e("lodash.isfinite"),a=e("./utils/types").preloadType,c=c=e("./utils/checkProps"),u=o.createClass({displayName:"Infinite",propTypes:{children:o.PropTypes.any,handleScroll:o.PropTypes.func,preloadBatchSize:a,preloadAdditionalHeight:a,elementHeight:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.arrayOf(o.PropTypes.number)]).isRequired,containerHeight:o.PropTypes.number,useWindowAsScrollContainer:o.PropTypes.bool,customScrollContainer:o.PropTypes.node,displayBottomUpwards:o.PropTypes.bool.isRequired,infiniteLoadBeginEdgeOffset:o.PropTypes.number,onInfiniteLoad:o.PropTypes.func,loadingSpinnerDelegate:o.PropTypes.node,isInfiniteLoading:o.PropTypes.bool,timeScrollStateLastsForAfterUserScrolls:o.PropTypes.number,className:o.PropTypes.string,styles:o.PropTypes.shape({scrollableStyle:o.PropTypes.object}).isRequired},statics:{containerHeightScaleFactor:function(e){if(!s(e))throw new Error("The scale factor must be a number.");return{type:r.CONTAINER_HEIGHT_SCALE_FACTOR,amount:e}}},computedProps:{},utils:{},shouldAttachToBottom:!1,preservedScrollState:0,loadingSpinnerHeight:0,deprecationWarned:!1,scrollable:null,topSpacer:null,bottomSpacer:null,smoothScrollingWrapper:null,loadingSpinner:null,getDefaultProps:function(){return{handleScroll:function(){},useWindowAsScrollContainer:!1,customScrollContainer:!1,onInfiniteLoad:function(){},loadingSpinnerDelegate:o.createElement("div",null),displayBottomUpwards:!1,isInfiniteLoading:!1,timeScrollStateLastsForAfterUserScrolls:150,className:"",styles:{}}},getInitialState:function(){var e=this.recomputeInternalStateFromProps(this.props);this.computedProps=e.computedProps,this.utils=e.utils,this.shouldAttachToBottom=this.props.displayBottomUpwards;var t=e.newState;return t.scrollTimeout=void 0,t.isScrolling=!1,t},generateComputedProps:function(e){var t=e.containerHeight,n=e.preloadBatchSize,o=e.preloadAdditionalHeight,l=i(e,["containerHeight","preloadBatchSize","preloadAdditionalHeight"]),s={};t="number"==typeof t?t:0;var a=e.customScrollContainer||window;s.containerHeight=e.useWindowAsScrollContainer||e.customScrollContainer?a.innerHeight:t,void 0!==l.infiniteLoadBeginBottomOffset&&(s.infiniteLoadBeginEdgeOffset=l.infiniteLoadBeginBottomOffset,this.deprecationWarned||(console.error("Warning: React Infinite's infiniteLoadBeginBottomOffset prop\n        has been deprecated as of 0.6.0. Please use infiniteLoadBeginEdgeOffset.\n        Because this is a rather descriptive name, a simple find and replace\n        should suffice."),this.deprecationWarned=!0));var c={type:r.CONTAINER_HEIGHT_SCALE_FACTOR,amount:.5},u=n&&n.type?n:c;"number"==typeof n?s.preloadBatchSize=n:"object"==typeof u&&u.type===r.CONTAINER_HEIGHT_SCALE_FACTOR?s.preloadBatchSize=s.containerHeight*u.amount:s.preloadBatchSize=0;var p={type:r.CONTAINER_HEIGHT_SCALE_FACTOR,amount:1},f=o&&o.type?o:p;return"number"==typeof o?s.preloadAdditionalHeight=o:"object"==typeof f&&f.type===r.CONTAINER_HEIGHT_SCALE_FACTOR?s.preloadAdditionalHeight=s.containerHeight*f.amount:s.preloadAdditionalHeight=0,Object.assign(l,s)},generateComputedUtilityFunctions:function(e){var t=this,n={};n.getLoadingSpinnerHeight=function(){var e=0;return t.loadingSpinner&&(e=t.loadingSpinner.offsetHeight||0),e};var i=e.customScrollContainer||window;return e.useWindowAsScrollContainer||e.customScrollContainer?(n.subscribeToScrollListener=function(){i.addEventListener("scroll",t.infiniteHandleScroll)},n.unsubscribeFromScrollListener=function(){i.removeEventListener("scroll",t.infiniteHandleScroll)},n.nodeScrollListener=function(){},n.getScrollTop=function(){return i.pageYOffset},n.setScrollTop=function(e){i.scroll(i.pageXOffset,e)},n.scrollShouldBeIgnored=function(){return!1},n.buildScrollableStyle=function(){return{}}):(n.subscribeToScrollListener=function(){},n.unsubscribeFromScrollListener=function(){},n.nodeScrollListener=this.infiniteHandleScroll,n.getScrollTop=function(){return t.scrollable?t.scrollable.scrollTop:0},n.setScrollTop=function(e){t.scrollable&&(t.scrollable.scrollTop=e)},n.scrollShouldBeIgnored=function(e){return e.target!==t.scrollable},n.buildScrollableStyle=function(){return Object.assign({},{height:t.computedProps.containerHeight,overflowX:"hidden",overflowY:"scroll",WebkitOverflowScrolling:"touch"},t.computedProps.styles.scrollableStyle||{})}),n},recomputeInternalStateFromProps:function(e){c(e);var t=this.generateComputedProps(e),n=this.generateComputedUtilityFunctions(e),i={};return i.numberOfChildren=o.Children.count(t.children),i.infiniteComputer=l.createInfiniteComputer(t.elementHeight,t.children,t.displayBottomUpwards),void 0!==t.isInfiniteLoading&&(i.isInfiniteLoading=t.isInfiniteLoading),i.preloadBatchSize=t.preloadBatchSize,i.preloadAdditionalHeight=t.preloadAdditionalHeight,i=Object.assign(i,l.recomputeApertureStateFromOptionsAndScrollTop(i,n.getScrollTop())),{computedProps:t,utils:n,newState:i}},componentWillReceiveProps:function(e){var t=this.recomputeInternalStateFromProps(e);this.computedProps=t.computedProps,this.utils=t.utils,this.setState(t.newState)},componentWillUpdate:function(){this.props.displayBottomUpwards&&(this.preservedScrollState=this.utils.getScrollTop()-this.loadingSpinnerHeight)},componentDidUpdate:function(e,t){if(this.loadingSpinnerHeight=this.utils.getLoadingSpinnerHeight(),this.props.displayBottomUpwards){var n=this.getLowestPossibleScrollTop();this.shouldAttachToBottom&&this.utils.getScrollTop()<n?this.utils.setScrollTop(n):e.isInfiniteLoading&&!this.props.isInfiniteLoading&&this.utils.setScrollTop(this.state.infiniteComputer.getTotalScrollableHeight()-t.infiniteComputer.getTotalScrollableHeight()+this.preservedScrollState)}var i=this.state.numberOfChildren!==t.numberOfChildren;if(i){var o=l.recomputeApertureStateFromOptionsAndScrollTop(this.state,this.utils.getScrollTop());this.setState(o)}var r=i&&!this.hasAllVisibleItems()&&!this.state.isInfiniteLoading;r&&this.onInfiniteLoad()},componentDidMount:function(){if(this.utils.subscribeToScrollListener(),this.hasAllVisibleItems()||this.onInfiniteLoad(),this.props.displayBottomUpwards){var e=this.getLowestPossibleScrollTop();this.shouldAttachToBottom&&this.utils.getScrollTop()<e&&this.utils.setScrollTop(e)}},componentWillUnmount:function(){this.utils.unsubscribeFromScrollListener()},infiniteHandleScroll:function(e){this.utils.scrollShouldBeIgnored(e)||(this.computedProps.handleScroll(this.scrollable),this.handleScroll(this.utils.getScrollTop()))},manageScrollTimeouts:function(){this.state.scrollTimeout&&clearTimeout(this.state.scrollTimeout);var e=this,t=setTimeout(function(){e.setState({isScrolling:!1,scrollTimeout:void 0})},this.computedProps.timeScrollStateLastsForAfterUserScrolls);this.setState({isScrolling:!0,scrollTimeout:t})},getLowestPossibleScrollTop:function(){return this.state.infiniteComputer.getTotalScrollableHeight()-this.computedProps.containerHeight},hasAllVisibleItems:function(){return!(s(this.computedProps.infiniteLoadBeginEdgeOffset)&&this.state.infiniteComputer.getTotalScrollableHeight()<this.computedProps.containerHeight)},passedEdgeForInfiniteScroll:function(e){return this.computedProps.displayBottomUpwards?!this.shouldAttachToBottom&&e<this.computedProps.infiniteLoadBeginEdgeOffset:e>this.state.infiniteComputer.getTotalScrollableHeight()-this.computedProps.containerHeight-this.computedProps.infiniteLoadBeginEdgeOffset},onInfiniteLoad:function(){this.setState({isInfiniteLoading:!0}),this.computedProps.onInfiniteLoad()},handleScroll:function(e){this.shouldAttachToBottom=this.computedProps.displayBottomUpwards&&e>=this.getLowestPossibleScrollTop(),this.manageScrollTimeouts();var t=l.recomputeApertureStateFromOptionsAndScrollTop(this.state,e);this.passedEdgeForInfiniteScroll(e)&&!this.state.isInfiniteLoading?(this.setState(Object.assign({},t)),this.onInfiniteLoad()):this.setState(t)},buildHeightStyle:function(e){return{width:"100%",height:Math.ceil(e)}},render:function(){var e,t=this;e=this.state.numberOfChildren>1?this.computedProps.children.slice(this.state.displayIndexStart,this.state.displayIndexEnd+1):this.computedProps.children;var n={};this.state.isScrolling&&(n.pointerEvents="none");var i=this.state.infiniteComputer.getTopSpacerHeight(this.state.displayIndexStart),r=this.state.infiniteComputer.getBottomSpacerHeight(this.state.displayIndexEnd);if(this.computedProps.displayBottomUpwards){var l=this.computedProps.containerHeight-this.state.infiniteComputer.getTotalScrollableHeight();l>0&&(i=l-this.loadingSpinnerHeight)}var s=void 0===this.computedProps.infiniteLoadBeginEdgeOffset?null:o.createElement("div",{ref:function(e){t.loadingSpinner=e}},this.state.isInfiniteLoading?this.computedProps.loadingSpinnerDelegate:null);return o.createElement("div",{className:this.computedProps.className,ref:function(e){t.scrollable=e},style:this.utils.buildScrollableStyle(),onScroll:this.utils.nodeScrollListener},o.createElement("div",{ref:function(e){t.smoothScrollingWrapper=e},style:n},o.createElement("div",{ref:function(e){t.topSpacer=e},style:this.buildHeightStyle(i)}),this.computedProps.displayBottomUpwards&&s,e,!this.computedProps.displayBottomUpwards&&s,o.createElement("div",{ref:function(e){t.bottomSpacer=e},style:this.buildHeightStyle(r)})))}});t.exports=u,n.Infinite=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils/checkProps":9,"./utils/establish-polyfills":10,"./utils/infiniteHelpers":11,"./utils/scaleEnum":12,"./utils/types":13,"lodash.isfinite":3,react:void 0}],2:[function(e,t,n){function i(e){return!!e&&"object"==typeof e}function o(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=S}function l(e){return s(e)&&g.call(e)==u}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null!=e&&(l(e)?y.test(d.call(e)):i(e)&&p.test(e))}var c="[object Array]",u="[object Function]",p=/^\[object .+?Constructor\]$/,f=Object.prototype,d=Function.prototype.toString,h=f.hasOwnProperty,g=f.toString,y=RegExp("^"+d.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=o(Array,"isArray"),S=9007199254740991,b=m||function(e){return i(e)&&r(e.length)&&g.call(e)==c};t.exports=b},{}],3:[function(e,t,n){(function(e){function n(e){return"number"==typeof e&&i(e)}var i=e.isFinite;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){"use strict";function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(e,t){for(var n,l,s=i(e),a=1;a<arguments.length;a++){n=Object(arguments[a]);for(var c in n)o.call(n,c)&&(s[c]=n[c]);if(Object.getOwnPropertySymbols){l=Object.getOwnPropertySymbols(n);for(var u=0;u<l.length;u++)r.call(n,l[u])&&(s[l[u]]=n[l[u]])}}return s}},{}],5:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e,t,n){for(var i=!0;i;){var o=e,r=t,l=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if("value"in s)return s.value;var a=s.get;if(void 0===a)return;return a.call(l)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=r,n=l,i=!0,s=c=void 0}},s=e("./infiniteComputer.js"),a=e("../utils/binaryIndexSearch.js"),c=function(e){function t(e,n){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.prefixHeightData=this.heightData.reduce(function(e,t){return 0===e.length?[t]:(e.push(e[e.length-1]+t),e)},[])}return o(t,e),r(t,[{key:"maybeIndexToIndex",value:function(e){return"undefined"==typeof e||null===e?this.prefixHeightData.length-1:e}},{key:"getTotalScrollableHeight",value:function(){var e=this.prefixHeightData.length;return 0===e?0:this.prefixHeightData[e-1]}},{key:"getDisplayIndexStart",value:function(e){var t=a.binaryIndexSearch(this.prefixHeightData,e,a.opts.CLOSEST_HIGHER);return this.maybeIndexToIndex(t)}},{key:"getDisplayIndexEnd",value:function(e){var t=a.binaryIndexSearch(this.prefixHeightData,e,a.opts.CLOSEST_HIGHER);return this.maybeIndexToIndex(t)}},{key:"getTopSpacerHeight",value:function(e){var t=e-1;return t<0?0:this.prefixHeightData[t]}},{key:"getBottomSpacerHeight",value:function(e){return e===-1?0:this.getTotalScrollableHeight()-this.prefixHeightData[e]}}]),t}(s);t.exports=c},{"../utils/binaryIndexSearch.js":8,"./infiniteComputer.js":7}],6:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e,t,n){for(var i=!0;i;){var o=e,r=t,l=n;i=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,r);if(void 0!==s){if("value"in s)return s.value;var a=s.get;if(void 0===a)return;return a.call(l)}var c=Object.getPrototypeOf(o);if(null===c)return;e=c,t=r,n=l,i=!0,s=c=void 0}},s=e("./infiniteComputer.js"),a=function(e){function t(){i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),r(t,[{key:"getTotalScrollableHeight",value:function(){return this.heightData*this.numberOfChildren}},{key:"getDisplayIndexStart",value:function(e){return Math.floor(e/this.heightData)}},{key:"getDisplayIndexEnd",value:function(e){var t=Math.ceil(e/this.heightData);return t>0?t-1:t}},{key:"getTopSpacerHeight",value:function(e){return e*this.heightData}},{key:"getBottomSpacerHeight",value:function(e){var t=e+1;return Math.max(0,(this.numberOfChildren-t)*this.heightData)}}]),t}(s);t.exports=a},{"./infiniteComputer.js":7}],7:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){i(this,e),this.heightData=t,this.numberOfChildren=n}return o(e,[{key:"getTotalScrollableHeight",value:function(){}},{key:"getDisplayIndexStart",value:function(e){}},{key:"getDisplayIndexEnd",value:function(e){}},{key:"getTopSpacerHeight",value:function(e){}},{key:"getBottomSpacerHeight",value:function(e){}}]),e}();t.exports=r},{}],8:[function(e,t,n){"use strict";var i={CLOSEST_LOWER:1,CLOSEST_HIGHER:2},o=function(e,t,n){for(var o,r,l,s=e.length-1,a=0;a<=s;){if(r=a+Math.floor((s-a)/2),l=e[r],l===t)return r;l<t?a=r+1:l>t&&(s=r-1)}return n===i.CLOSEST_LOWER&&a>0?o=a-1:n===i.CLOSEST_HIGHER&&s<e.length-1&&(o=s+1),o};t.exports={binaryIndexSearch:o,opts:i}},{}],9:[function(e,t,n){(function(n){"use strict";var i=n.React||e("react"),o=e("lodash.isfinite");t.exports=function(e){var t="Invariant Violation: ";if(!(e.containerHeight||e.useWindowAsScrollContainer||e.customScrollContainer))throw new Error(t+"Either containerHeight or useWindowAsScrollContainer must be provided.");if(!o(e.elementHeight)&&!Array.isArray(e.elementHeight))throw new Error(t+"You must provide either a number or an array of numbers as the elementHeight.");if(Array.isArray(e.elementHeight)&&i.Children.count(e.children)!==e.elementHeight.length)throw new Error(t+"There must be as many values provided in the elementHeight prop as there are children.")}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash.isfinite":3,react:void 0}],10:[function(e,t,n){"use strict";Object.assign||(Object.assign=e("object-assign")),Array.isArray||(Array.isArray=e("lodash.isarray"))},{"lodash.isarray":2,"object-assign":4}],11:[function(e,t,n){(function(n){"use strict";function i(e,t){var n,i=s.Children.count(t);return n=Array.isArray(e)?new l(e,i):new r(e,i)}function o(e,t){var n=e.preloadBatchSize,i=e.preloadAdditionalHeight,o=e.infiniteComputer;return function(){var e=0===n?0:Math.floor(t/n),r=n*e,l=r+n,s=Math.max(0,r-i),a=Math.min(o.getTotalScrollableHeight(),l+i);return{displayIndexStart:o.getDisplayIndexStart(s),displayIndexEnd:o.getDisplayIndexEnd(a)}}()}var r=e("../computers/constantInfiniteComputer.js"),l=e("../computers/arrayInfiniteComputer.js"),s=n.React||e("react");t.exports={createInfiniteComputer:i,recomputeApertureStateFromOptionsAndScrollTop:o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../computers/arrayInfiniteComputer.js":5,"../computers/constantInfiniteComputer.js":6,react:void 0}],12:[function(e,t,n){"use strict";t.exports={CONTAINER_HEIGHT_SCALE_FACTOR:"containerHeightScaleFactor"}},{}],13:[function(e,t,n){(function(n){"use strict";var i=n.React||e("react");t.exports={preloadType:i.PropTypes.oneOfType([i.PropTypes.number,i.PropTypes.shape({type:i.PropTypes.oneOf(["containerHeightScaleFactor"]).isRequired,amount:i.PropTypes.number.isRequired})])}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{react:void 0}]},{},[1])(1)});